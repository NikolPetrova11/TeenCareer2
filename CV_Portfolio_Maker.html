<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeenCareer</title>
    <link rel="stylesheet" type="text/css" href="CV1.css" />
    <link rel="stylesheet" type="text/css" href="login.css" />
    
    <link href="https://fonts.googleapis.com/css2?family=Comforter+Brush&family=Montserrat:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
</head>
<body>
    <header>
    <div class="header-container">
      <img src="logo.png" class="logo" alt="TeenCareer">

      <nav class="nav-links" id="navMenu">
        <ul>
          <li><a href="index.php">–î–∞ –∑–∞–ø–æ—á–Ω–µ–º</a></li>
          <li><a href="searching.html">–•–∞–π–¥–µ –Ω–∞ —Ä–∞–±–æ—Ç–∞!</a></li>
          <li><a href="CV_Portfolio_Maker.html">–¢–≤–æ—è—Ç —Å—Ç–∞—Ä—Ç–æ–≤ –∫–æ–º–ø–ª–µ–∫—Ç</a></li>
          <li><a href="tips.html">–°—ä–≤–µ—Ç–∏ —Å—ä—Å —Å—Ç–∏–ª</a></li>
        </ul>
      </nav>

      <div class="right-buttons">
        <button class="menu-toggle" id="menuToggle" metod="post">‚ò∞</button>
        <button class="profile-btn">
          <img src="viber_image_2025-07-15_17-38-46-235.png" alt="Profile" class="profile">
        </button>
      </div>
    </div>
    
    <div class="overlay"></div>
   <div class="popup">
    <div class="close-btn">&times;</div>
    
    <div class="tab-header">
        <button class="tab-btn active" data-form="login">–í—Ö–æ–¥</button>
        <button class="tab-btn" data-form="register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </div>

    <div class="form-container">

        <div class="form login-form-container active">
            <form action="login.php" method="POST">
                
                <div class="form-element">
                    <label for="login-email">Email</label>
                    <input type="email" name="email" id="login-email" placeholder="–í—ä–≤–µ–¥–∏ –∏–º–µ–π–ª" required>
                </div> 
 
                <div class="form-element">
                    <label for="login-password">–ü–∞—Ä–æ–ª–∞</label>
                    <input type="password" name="password" id="login-password" placeholder="–í—ä–≤–µ–¥–∏ –ø–∞—Ä–æ–ª–∞" required>
                </div>
 
                <div class="form-element">
                    <button type="submit">–í—Ö–æ–¥</button>
                </div>
            </form>
        </div>
        <div class="form register-form-container">
            <form action="register.php" method="POST">
                
                <div class="form-element">
                    <label for="register-email">Email</label>
                    <input type="email" name="email" id="register-email" placeholder="–í—ä–≤–µ–¥–∏ –∏–º–µ–π–ª" required>
                </div> 
 
                <div class="form-element">
                    <label for="register-password">–ü–∞—Ä–æ–ª–∞</label>
                    <input type="password" name="password" id="register-password" placeholder="–í—ä–≤–µ–¥–∏ –ø–∞—Ä–æ–ª–∞" required>
                </div>
 
                <div class="form-element">
                    <input type="checkbox" id="remember-me">
                    <label for="remember-me">–ó–∞–ø–æ–º–Ω–∏ –º–µ</label>
                </div>
 
                <div class="form-element">
                    <button type="submit">–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π —Å–µ</button>
                </div>
            </form>
        </div>
        </div> 
</div>
<script>
  // –°—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∞ –ª–æ–≥–∏–∫–∞ –∑–∞ –º–µ–Ω—é—Ç–æ
  const menuToggle = document.getElementById("menuToggle");
  const navMenu = document.getElementById("navMenu"); // –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –∏–º–∞—Ç–µ –µ–ª–µ–º–µ–Ω—Ç —Å ID="navMenu"

  menuToggle.addEventListener("click", () => {
    // –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ navMenu —Å—ä—â–µ—Å—Ç–≤—É–≤–∞, –ø—Ä–µ–¥–∏ –¥–∞ –¥–æ–±–∞–≤—è—Ç–µ –∫–ª–∞—Å
    if (navMenu) {
        navMenu.classList.toggle("active");
    }
  });

  // –õ–æ–≥–∏–∫–∞ –∑–∞ –æ—Ç–≤–∞—Ä—è–Ω–µ –∏ –∑–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ Popup
  const profileBtn = document.querySelector(".profile-btn");
  const overlay = document.querySelector(".overlay");
  const popup = document.querySelector(".popup");
  const closeBtn = document.querySelector(".popup .close-btn");

  profileBtn.addEventListener("click", function() {
    overlay.classList.add("active");
    popup.classList.add("active");
  });

  closeBtn.addEventListener("click", function() {
    overlay.classList.remove("active");
    popup.classList.remove("active");
  });

  overlay.addEventListener("click", function(e) {
    if (e.target.classList.contains("overlay")) {
        overlay.classList.remove("active");
        popup.classList.remove("active");
    }
  });


  // –ù–û–í–ê –õ–û–ì–ò–ö–ê –ó–ê –¢–ê–ë–û–í–ï–¢–ï (–í–•–û–î/–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø)
  const tabButtons = document.querySelectorAll(".tab-btn");
  const loginForm = document.querySelector(".login-form-container");
  const registerForm = document.querySelector(".register-form-container");

  tabButtons.forEach(button => {
    button.addEventListener("click", () => {
        // –ü—Ä–µ–º–∞—Ö–≤–∞ "active" –æ—Ç –≤—Å–∏—á–∫–∏ –±—É—Ç–æ–Ω–∏
        tabButtons.forEach(btn => btn.classList.remove("active"));
        // –î–æ–±–∞–≤—è "active" –∫—ä–º –∫–ª–∏–∫–Ω–∞—Ç–∏—è –±—É—Ç–æ–Ω
        button.classList.add("active");

        const targetForm = button.getAttribute("data-form");

        if (targetForm === "login") {
            loginForm.classList.add("active");
            registerForm.classList.remove("active");
        } else if (targetForm === "register") {
            loginForm.classList.remove("active");
            registerForm.classList.add("active");
        }
    });
  });
</script>
  </header>
    
    <section class="hero">
        <div class="background"></div>
        <div class="phone">
        <img src="phone 1.png">
        </div>
        <div class="text">
            <h1>–°—ä–∑–¥–∞–π —Å–∏ CV –±–µ–∑ –≥–ª–∞–≤–æ–±–æ–ª–∏–µ</h1>
            <h2>–ù–µ –µ –Ω—É–∂–Ω–æ –¥–∞ –∏–º–∞—à –æ–ø–∏—Ç, –∑–∞ –¥–∞<br>  –∏–∑–≥–ª–µ–∂–¥–∞—à –≥–æ—Ç–æ–≤.</h2>
            <p>–ù–∞—à–∏—è—Ç CV Maker —â–µ —Ç–∏ –ø–æ–º–æ–≥–Ω–µ –¥–∞ —Å–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—à —É–≤–µ—Ä–µ–Ω–æ, –¥–æ—Ä–∏<br> –∞–∫–æ —Ç–æ–≤–∞ –µ –ø—ä—Ä–≤–∞—Ç–∞ —Ç–∏ —Ä–∞–±–æ—Ç–∞.</p>
            <a href="#steps_p" class="button">–°—ä–∑–¥–∞–π —Å–µ–≥–∞</a>
        </div>
    </section>
    
    <section class="steps" id="steps">
        <img src="Group 16.png">
        <p id="steps_p">–¢–æ–≤–∞ –Ω–µ –µ –ø—Ä–æ—Å—Ç–æ –±–ª–∞–Ω–∫–∞. –¢–æ–≤–∞ –µ —Ç–≤–æ—è—Ç –≤—Ö–æ–¥–µ–Ω –±–∏–ª–µ—Ç –∫—ä–º –ø—ä—Ä–≤–∞—Ç–∞ —Ç–∏ —Ä–∞–±–æ—Ç–∞. –ü–æ–ø—ä–ª–Ω–∏ –≥–æ –∫–∞—Ç–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª.</p>
    </section>
    
    <section class="cards-container">

    <div class="flip-card-container">
        <div class="flip-card">
            <div class="flip-card-front">
                <div class="card-number">1.</div>
                <div class="card-icon">
                    <img src="design.png">
                </div>

                <select id="template-selector" name="template" class="template-selector">
                    <option value="text">–ò–∑–±–µ—Ä–∏ —Ç–µ–º–ø–ª–µ–π—Ç</option>
                    <option value="default">–ö–ª–∞—Å–∏—á–µ—Å–∫–∏</option>
                    <option value="modern">–ú–æ–¥–µ—Ä–µ–Ω</option>
                </select>
            </div>

            <div class="flip-card-back">
                <div class="card-number">1.</div>
                <p class="card-title"></p>
                <button class="flip-button flip-back-btn">–ó–∞—Ç–≤–æ—Ä–∏</button>
            </div>
        </div>
    </div>

    <div class="flip-card-container" id="cv-card-container">
        <div class="flip-card">
            <div class="flip-card-front">
                <div class="card-number">2.</div>
                <div class="card-icon">
                    <img src="inf.png">
                </div>
                <p class="card-title"></p>
                <button class="flip-button" id="openCvModalBtn">–†–∞–∑–∫–∞–∂–∏ –Ω–∏ –∑–∞ —Å–µ–±–µ —Å–∏.</button>
            </div>

            <div class="flip-card-back">
                <div class="card-number">2.</div>
                <p class="card-title"></p>
                <button class="flip-button flip-back-btn">–ó–∞—Ç–≤–æ—Ä–∏</button>
            </div>
        </div>
    </div>

    <div class="flip-card-container">
        <div class="flip-card">
            <div class="flip-card-front">
                <div class="card-number">3.</div>
                <div class="card-icon"><img src="readycv.png"></div>
                <p class="card-title"></p>
                
                <button class="flip-button flip-forward-btn" id="downloadCvBtn">
                    –ò–∑—Ç–µ–≥–ª–∏ –≥–æ—Ç–æ–≤–æ—Ç–æ —Å–∏ CV
                </button>
            </div>

            <div class="flip-card-back">
                <div class="card-number">3.</div>
                <p class="card-title"></p>
                <button class="flip-button flip-back-btn">–ó–∞—Ç–≤–æ—Ä–∏</button>
            </div>
        </div>
    </div>

</section>

    
    <div class="modal" id="cvModal">
      <div class="modal-content">
          <span class="close-btn cv-close-btn">&times;</span>
          <h2>üìù –ü–æ–ø—ä–ª–Ω–∏ –î–∞–Ω–Ω–∏ –∑–∞ –¢–≤–æ–µ—Ç–æ CV</h2>
          <form id="cvForm">
              <div class="form-element">
                  <label for="cv-fullName">–ò–º–µ –∏ –§–∞–º–∏–ª–∏—è</label>
                  <input type="text" id="cv-fullName" name="fullName" placeholder="–ù–∞–ø—Ä. –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤" required>
              </div> 

              <div class="form-element">
                  <label for="cv-email">–ò–º–µ–π–ª</label>
                  <input type="email" id="cv-email" name="email" placeholder="–¢–≤–æ—è—Ç –∏–º–µ–π–ª" required>
              </div>

              <div class="form-element">
                  <label for="cv-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                  <input type="tel" id="cv-phone" name="phone" placeholder="–ù–∞–ø—Ä. 0888123456">
              </div>
              
              <div class="form-element">
                  <label for="cv-education">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –£—á–∏–ª–∏—â–µ</label>
                  <textarea id="cv-education" name="education" rows="3" placeholder="–ö—ä–¥–µ —É—á–∏—à/—Å–∏ —É—á–∏–ª"></textarea>
              </div>
              
              <div class="form-element">
                  <label for="cv-experience">–ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –û–ø–∏—Ç (–î–æ—Ä–∏ –∏ –¥–æ–±—Ä–æ–≤–æ–ª—á–µ—Å—Ç–≤–æ)</label>
                  <textarea id="cv-experience" name="experience" rows="5" placeholder="–û–ø–∏—à–∏ –∫–∞–∫–≤–æ —Å–∏ –ø—Ä–∞–≤–∏–ª"></textarea>
              </div>

              <div class="form-element">
                  <button type="submit">–ó–∞–ø–∞–∑–∏ –∏ –ì–µ–Ω–µ—Ä–∏—Ä–∞–π CV</button>
              </div>
          </form>
      </div>
    </div>
   <section class="portfolio">
    <div class="portfolio">
        <div class="portfolio1">
        <img src="Group 17.png">
        </div>
        <section class="portfolio">
    <div class="portfolio">
        <section class="cards1-container"> 
            
            <div class="flip-card-container" id="step1-container">
    <div class="flip-card1">
        <div class="flip-card-front">
               <p>–ò–∑–±–µ—Ä–∏ —Ç–µ–º–ø–ª–µ–π—Ç –∑–∞ <br> –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</p>
             <div class="portfolioimg">
                 <img src="01(13).png">
             </div>
             
             
        </div>
    </div>
</div>

           <div class="flip-card-container" id="step2-container">
    <div class="flip-card1">
        <div class="flip-card-front" id="upload-card-front">
            <p class="card-title" id="upload-text">–°–ø–æ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç–∞ —Å–∏ —Å<br> –Ω–∞—Å</p>
            <img src="02(2).png">
            <input type="file" id="portfolio-upload" accept=".pdf,.doc,.docx,.zip" style="display: none;">
        </div>
    </div>
</div>

<div class="flip-card-container" id="step3-container">
    <div class="flip-card1">
        <div class="flip-card-front" id="download-card-front">
            <p class="card-title" id="download-text">–ò–∑—Ç–µ–≥–ª–∏ –≥–æ—Ç–æ–≤–æ—Ç–æ <br> —Å–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</p>
            <img src="03(1).png">
            <a id="portfolio-download-link" style="display: none;"></a>
        </div>
    </div>
</div>


<div id="data-modal" style="display:none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
    <div style="background-color: #fefefe; margin: 10% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 500px; border-radius: 10px;">
        <span id="close-modal" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
        <h3>üìÑ –ü–æ–ø—ä–ª–Ω–∏ –î–∞–Ω–Ω–∏ –∑–∞ –¢–≤–æ–µ—Ç–æ –ü–æ—Ä—Ñ–æ–ª–∏–æ</h3>
        <form id="portfolio-data-form">
            <label for="full_name"><br>–ò–º–µ –∏ –§–∞–º–∏–ª–∏—è</label>
            <input type="text" id="full_name" name="full_name" placeholder="–ù–∞–ø—Ä. –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤" required style="width: 100%; padding: 10px; margin: 5px 0 15px 0; display: inline-block; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">

            <label for="email">–ò–º–µ–π–ª</label>
            <input type="email" id="email" name="email" placeholder="–¢–≤–æ—è—Ç –∏–º–µ–π–ª" required style="width: 100%; padding: 10px; margin: 5px 0 15px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">

            <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input type="text" id="phone" name="phone" placeholder="–ù–∞–ø—Ä. 0888123456" style="width: 100%; padding: 10px; margin: 5px 0 15px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;">

            <label for="education">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –£—á–∏–ª–∏—â–µ</label>
            <textarea id="education" name="education" placeholder="–ö—ä–¥–µ —É—á–∏—à/—Å–∏ —É—á–∏–ª" rows="3" style="width: 100%; padding: 10px; margin: 5px 0 15px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;"></textarea>

            <label for="experience">–ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –û–ø–∏—Ç (–î–æ—Ä–∏ –∏ –¥–æ–±—Ä–æ–≤–æ–ª—á–µ—Å—Ç–≤–æ)</label>
            <textarea id="experience" name="experience" placeholder="–û–ø–∏—à–∏ –∫–∞–∫–≤–æ —Å–∏ –ø—Ä–∞–≤–∏–ª" rows="5" style="width: 100%; padding: 10px; margin: 5px 0 15px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;"></textarea>

            <button type="submit" style="background-color: #09989e; color: white; padding: 14px 20px; margin: 8px 0; border: none; border-radius: 4px; cursor: pointer; width: 100%;">–ó–∞–ø–∞–∑–∏ –∏ –ì–µ–Ω–µ—Ä–∏—Ä–∞–π</button>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const uploadText = document.getElementById('upload-text');
    const uploadInput = document.getElementById('portfolio-upload');
    const downloadText = document.getElementById('download-text');
    const step3Container = document.getElementById('step3-container');

    // –ü—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –∑–∞ —Ñ–æ—Ä–º–∞—Ç–∞
    const dataModal = document.getElementById('data-modal');
    const closeModal = document.getElementById('close-modal');
    const portfolioDataForm = document.getElementById('portfolio-data-form');
    let formDataSubmitted = false; // –§–ª–∞–≥, –¥–∞–ª–∏ –¥–∞–Ω–Ω–∏—Ç–µ —Å–∞ –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏
    
    const userId = null; 

    // === 1. –õ–û–ì–ò–ö–ê –ó–ê –§–û–†–ú–ê–¢–ê (–ö–ª–∏–∫–≤–∞–Ω–µ –≤—ä—Ä—Ö—É –°—Ç—ä–ø–∫–∞ 2) ===

    uploadText.addEventListener('click', () => {
        // –ü—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ –¥–∞–Ω–Ω–∏—Ç–µ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞ —Å–∞ –≤–µ—á–µ –∏–∑–ø—Ä–∞—Ç–µ–Ω–∏
        if (!formDataSubmitted) {
            dataModal.style.display = 'block'; // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –º–æ–¥–∞–ª–∞
        } else {
            // –ê–∫–æ –¥–∞–Ω–Ω–∏—Ç–µ —Å–∞ –∑–∞–ø–∞–∑–µ–Ω–∏, –ø—Ä–µ–º–∏–Ω–∞–≤–∞–º–µ –∫—ä–º –∫–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª
            uploadInput.click();
        }
    });

    // –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –º–æ–¥–∞–ª–∞
    closeModal.addEventListener('click', () => {
        dataModal.style.display = 'none';
    });

    // –ò–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞ –∫—ä–º PHP (save_session_data.php)
    portfolioDataForm.addEventListener('submit', (e) => {
        e.preventDefault();
        
        const formData = new FormData(portfolioDataForm);
        
        fetch('save_session_data.php', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                formDataSubmitted = true;
                dataModal.style.display = 'none'; // –°–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞
                uploadText.innerHTML = '–î–∞–Ω–Ω–∏—Ç–µ –∑–∞–ø–∞–∑–µ–Ω–∏! <br> **–ö–ª–∏–∫–Ω–∏ –∑–∞ –∫–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª**';
                uploadText.style.cursor = 'pointer';

                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –ø–æ–ª–µ—Ç–æ –∑–∞ –∫–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª —Å–ª–µ–¥ –∑–∞–ø–∞–∑–≤–∞–Ω–µ
                uploadInput.click(); 

            } else {
                alert('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ.');
            }
        })
        .catch(error => {
            console.error('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏:', error);
            alert('–í—ä–∑–Ω–∏–∫–Ω–∞ –≥—Ä–µ—à–∫–∞!');
        });
    });


    // === 2. –õ–û–ì–ò–ö–ê –ó–ê –ö–ê–ß–í–ê–ù–ï –ù–ê –§–ê–ô–õ (upload_portfolio.php) ===

    uploadInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        
        if (file && formDataSubmitted) { 
            uploadText.innerHTML = `–ö–∞—á–µ–Ω: ${file.name}<br>–û–±—Ä–∞–±–æ—Ç–≤–∞ —Å–µ...`;
            
            const uploadFormData = new FormData();
            uploadFormData.append('portfolio_file', file);
            if (userId) {
                uploadFormData.append('user_id', userId); 
            }
            
            fetch('upload_portfolio.php', {
                method: 'POST',
                body: uploadFormData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    uploadText.innerHTML = `–ö–∞—á–µ–Ω: ${file.name}<br>‚úì –ì–æ—Ç–æ–≤–æ!`;
                    // –ê–∫—Ç–∏–≤–∏—Ä–∞–º–µ –°—Ç—ä–ø–∫–∞ 3 —Å —É–Ω–∏–∫–∞–ª–Ω–∏—è ID
                    activateDownloadStep(data.portfolio_id);
                } else {
                    uploadText.innerHTML = `–ì—Ä–µ—à–∫–∞: ${data.error}`;
                }
            })
            .catch(error => {
                console.error('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∫–∞—á–≤–∞–Ω–µ:', error);
                uploadText.innerHTML = '–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∫–∞—á–≤–∞–Ω–µ!';
            });
        } else if (!formDataSubmitted) {
            uploadText.innerHTML = '–ü—ä—Ä–≤–æ –ø–æ–ø—ä–ª–Ω–∏ –¥–∞–Ω–Ω–∏—Ç–µ!';
        }
    });

    // === 3. –°–¢–™–ü–ö–ê 3: –ò–∑—Ç–µ–≥–ª—è–Ω–µ ===

    function activateDownloadStep(portfolioId) {
        step3Container.style.boxShadow = '0 0 20px rgba(9, 152, 158, 0.8)';
        downloadText.style.color = '#09989e';
        downloadText.style.cursor = 'pointer';
        downloadText.innerHTML = '–ö–õ–ò–ö–ù–ò –ó–ê –ò–ó–¢–ï–ì–õ–Ø–ù–ï!';

        downloadText.onclick = () => startDownload(portfolioId);
    }

    function startDownload(portfolioId) {
        const downloadUrl = `pdf_generator.php?id=${portfolioId}`; 
        
        window.open(downloadUrl, '_blank');
        
        downloadText.textContent = "–ò–∑—Ç–µ–≥–ª—è–Ω–µ—Ç–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞...";
        
        setTimeout(() => {
            downloadText.innerHTML = '–ò–∑—Ç–µ–≥–ª–∏ –æ—Ç–Ω–æ–≤–æ <br> –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ—Ç–æ';
            downloadText.onclick = () => startDownload(portfolioId);
        }, 2000);
    }
});
</script>
                    </div>
                </div>
            </div>

                </div>
            </div>

        </section>
    </div>
</section>
        </div>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const uploadText = document.getElementById('upload-text');
    const uploadInput = document.getElementById('portfolio-upload');
    const downloadText = document.getElementById('download-text');
    const downloadLink = document.getElementById('portfolio-download-link');
    const step3Container = document.getElementById('step3-container');
    // –ù—è–º–∞ —Å—Ç–∞—Ç–∏—á–µ–Ω userId. upload_portfolio.php —â–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞ —É–Ω–∏–∫–∞–ª–µ–Ω.
    const userId = null; 

    // === –°–¢–™–ü–ö–ê 2: –ö–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª ===
    
    uploadText.addEventListener('click', () => {
        uploadInput.click();
    });

    uploadInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        if (file) {
            uploadText.innerHTML = `–ö–∞—á–µ–Ω: ${file.name}<br>–û–±—Ä–∞–±–æ—Ç–≤–∞ —Å–µ...`;
            
            // –°—ä–∑–¥–∞–≤–∞–º–µ FormData –∑–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–∞
            const formData = new FormData();
            formData.append('portfolio_file', file);
            
            // –ê–∫–æ userId –µ –Ω–∞–ª–∏—á–µ–Ω (—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª), –≥–æ –∏–∑–ø—Ä–∞—â–∞–º–µ
            if (userId) {
                formData.append('user_id', userId); 
            }
            
            // AJAX –∑–∞—è–≤–∫–∞ –∑–∞ –∫–∞—á–≤–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–∞
            fetch('upload_portfolio.php', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // –ü—Ä–æ–º–µ–Ω—è–º–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –°—Ç—ä–ø–∫–∞ 2
                    uploadText.innerHTML = `–ö–∞—á–µ–Ω: **${data.filename}**<br>‚úì –ì–æ—Ç–æ–≤–æ!`; 
                    
                    // –ê–∫—Ç–∏–≤–∏—Ä–∞–º–µ –°—Ç—ä–ø–∫–∞ 3 —Å —É–Ω–∏–∫–∞–ª–Ω–∏—è ID, –≤—ä—Ä–Ω–∞—Ç –æ—Ç —Å—ä—Ä–≤—ä—Ä–∞
                    activateDownloadStep(data.portfolio_id);
                } else {
                    uploadText.innerHTML = `–ì—Ä–µ—à–∫–∞: ${data.error}`;
                }
            })
            .catch(error => {
                console.error('–ì—Ä–µ—à–∫–∞:', error);
                uploadText.innerHTML = '–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∫–∞—á–≤–∞–Ω–µ!';
            });
        }
    });

    // === –°–¢–™–ü–ö–ê 3: –ò–∑—Ç–µ–≥–ª—è–Ω–µ ===

    function activateDownloadStep(portfolioId) {
        step3Container.style.boxShadow = '0 0 20px rgba(9, 152, 158, 0.8)';
        downloadText.style.color = '#09989e';
        downloadText.style.cursor = 'pointer';
        downloadText.innerHTML = '–ò–∑—Ç–µ–≥–ª–∏ –æ—Ç–Ω–æ–≤–æ <br> –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ—Ç–æ'; // –∏–ª–∏ '–ö–õ–ò–ö–ù–ò –ó–ê –ò–ó–¢–ï–ì–õ–Ø–ù–ï!'

        downloadText.onclick = () => startDownload(portfolioId);
    }

    function startDownload(portfolioId) {
        // –ò–∑–ø–æ–ª–∑–≤–∞–º–µ –≤—ä—Ä–Ω–∞—Ç–∏—è ID, –∑–∞ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–º–µ PDF
        const downloadUrl = `pdf_generator.php?id=${portfolioId}`; 
        
        // –î–∏—Ä–µ–∫—Ç–Ω–æ –æ—Ç–≤–∞—Ä—è–º–µ URL-–∞ –∑–∞ –∏–∑—Ç–µ–≥–ª—è–Ω–µ
        window.open(downloadUrl, '_blank');
        
        downloadText.textContent = "–ò–∑—Ç–µ–≥–ª—è–Ω–µ—Ç–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞...";
        
        // –°–ª–µ–¥ 2 —Å–µ–∫—É–Ω–¥–∏ –≤—Ä—ä—â–∞–º–µ —Ç–µ–∫—Å—Ç–∞
        setTimeout(() => {
            downloadText.innerHTML = '–ò–∑—Ç–µ–≥–ª–∏ –æ—Ç–Ω–æ–≤–æ <br> –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ—Ç–æ';
            downloadText.onclick = () => startDownload(portfolioId);
        }, 2000);
    }
});
    </script>
    <section class="footer">
      <video autoplay muted loop playsinline>
          <source src="Footer 2.mp4" type="video/mp4">
          –¢–≤–æ—è—Ç –±—Ä–∞—É–∑—ä—Ä –Ω–µ –ø–æ–¥–¥—ä—Ä–∂–∞ –≤–∏–¥–µ–æ —Ç–∞–≥.
      </video>
      <h1>–ü–æ—Å–ª–µ–¥–≤–∞–π –Ω–∏ –≤:</h1>
      <div class="footer-social">
        <a href="https://www.facebook.com/profile.php?id=61584096897244"><i class="fab fa-facebook-f"></i></a>
        <a href="https://tiktok.com/@teencareer7"><i class="fab fa-tiktok"></i></a>
        <a href="https://instagram.com/teencareerweb"><i class="fab fa-instagram"></i></a>
        <a href="https://linkedin.com"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </section>

    <script>
        // –õ–æ–≥–∏–∫–∞ –∑–∞ –º–µ–Ω—é—Ç–æ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∏—è popup
        const registrationPopup = document.querySelector(".popup");
        // overlay –µ –¥–µ–∫–ª–∞—Ä–∏—Ä–∞–Ω –ø–æ-–≥–æ—Ä–µ –≤ –¥—Ä—É–≥ <script>, –∑–∞—Ç–æ–≤–∞ —Ç—É–∫ –Ω–µ –≥–æ –ø—Ä–µ-–¥–µ–∫–ª–∞—Ä–∏—Ä–∞–º–µ

        menuToggle.addEventListener("click", () => {
            navMenu.classList.toggle("active");
        });

        document.querySelector(".profile-btn").addEventListener("click", function() {
            overlay.classList.add("active");
            registrationPopup.classList.add("active");
        });

        document.querySelector(".popup .close-btn").addEventListener("click", function() {
            overlay.classList.remove("active");
            registrationPopup.classList.remove("active");
        });
        
        // ====================================================================
        // –õ–û–ì–ò–ö–ê –ó–ê –û–ë–†–™–©–ê–ù–ï –ù–ê –ö–ê–†–¢–ò–¢–ï (FLIP CARDS)
        // ====================================================================

        const flipCardContainers = document.querySelectorAll('.flip-card-container'); 

        flipCardContainers.forEach(container => {
            const frontButton = container.querySelector('.flip-forward-btn');
            const backButton = container.querySelector('.flip-back-btn');

            // –õ–æ–≥–∏–∫–∞ –∑–∞ –æ–±—Ä—ä—â–∞–Ω–µ –Ω–∞–ø—Ä–µ–¥ (–æ—Å–≤–µ–Ω –ö–∞—Ä—Ç–∞ 2 –∏ –ö–∞—Ä—Ç–∞ 3, –∫–æ–∏—Ç–æ –∏–º–∞—Ç —Å–ø–µ—Ü–∏–∞–ª–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è)
            if (frontButton && frontButton.id !== 'downloadCvBtn' && !frontButton.hasAttribute('onclick')) {
                frontButton.addEventListener('click', function(e) {
                    e.preventDefault(); 
                    e.stopPropagation(); 
                    container.classList.add('flipped'); 
                });
            }
            
            // –õ–æ–≥–∏–∫–∞ –∑–∞ –æ–±—Ä—ä—â–∞–Ω–µ –Ω–∞–∑–∞–¥
            if (backButton) {
                backButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    container.classList.remove('flipped'); 
                });
            }
        });


        // ===============================================
        // –õ–û–ì–ò–ö–ê –ó–ê CV –ú–û–î–ê–õ–ê (–ö–∞—Ä—Ç–∞ 2) –ò –ì–ï–ù–ï–†–ò–†–ê–ù–ï –ù–ê PDF (–ö–∞—Ä—Ç–∞ 3)
        // ===============================================
        
        const cvModal = document.getElementById("cvModal");
        const openCvModalBtn = document.getElementById("openCvModalBtn");
        const cvCloseBtn = document.querySelector(".cv-close-btn");
        const cvForm = document.getElementById("cvForm");
        const downloadCvBtn = document.getElementById("downloadCvBtn"); // –ë—É—Ç–æ–Ω—ä—Ç –æ—Ç –ö–∞—Ä—Ç–∞ 3
        const templateSelector = document.getElementById("template-selector"); // –ù–û–í –ï–õ–ï–ú–ï–ù–¢
        
        // –ì–ª–æ–±–∞–ª–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∏ –∏–∑–±–æ—Ä–∞ –Ω–∞ —Ç–µ–º–ø–ª–µ–π—Ç
        let cvData = {
            template: templateSelector.value || 'default' // –í–∑–∏–º–∞–º–µ —Ç–µ–∫—É—â–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ
        }; 

        // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–º–µ cvData –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
        if(templateSelector) {
            templateSelector.addEventListener('change', function() {
                cvData.template = this.value;
            });
        }


        // --- 1. –û—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ CV –º–æ–¥–∞–ª–∞ (–ö–∞—Ä—Ç–∞ 2) ---
        if (openCvModalBtn) {
            openCvModalBtn.addEventListener("click", function(e) {
                e.preventDefault();
                
                // –ê–∫—Ç–∏–≤–∏—Ä–∞–º–µ –º–æ–¥–∞–ª–∞ –∏ overlay-–∞ 
                cvModal.classList.add("modal-open");
                overlay.classList.add("active");
                
                e.stopPropagation(); 
            });
        }

        // --- 2. –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ CV –º–æ–¥–∞–ª–∞ –ø—Ä–∏ –∫–ª–∏–∫ –Ω–∞ X ---
        if (cvCloseBtn) {
            cvCloseBtn.addEventListener("click", function() {
                cvModal.classList.remove("modal-open");
                overlay.classList.remove("active");
            });
        }

        // --- 3. –°—ä–±–∏—Ä–∞–Ω–µ –∏ –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –î–∞–Ω–Ω–∏—Ç–µ (–ø—Ä–∏ Submit –Ω–∞ –º–æ–¥–∞–ª–∞) ---
        cvForm.addEventListener("submit", function(e) {
            e.preventDefault(); 
            
            // –°—ä–±–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ (—Ç–µ–∫—É—â–∏—è—Ç –∏–∑–±–æ—Ä –Ω–∞ —Ç–µ–º–ø–ª–µ–π—Ç –µ –≤–µ—á–µ –≤ cvData.template)
            cvData.fullName = document.getElementById("cv-fullName").value;
            cvData.email = document.getElementById("cv-email").value;
            cvData.phone = document.getElementById("cv-phone").value;
            cvData.education = document.getElementById("cv-education").value;
            cvData.experience = document.getElementById("cv-experience").value;
            
            alert(`–î–∞–Ω–Ω–∏—Ç–µ –∑–∞ CV —Å–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ —Å —Ç–µ–º–ø–ª–µ–π—Ç: ${cvData.template}! –ú–æ–∂–µ—Ç–µ –¥–∞ –ø—Ä–æ–¥—ä–ª–∂–∏—Ç–µ –∫—ä–º –∏–∑—Ç–µ–≥–ª—è–Ω–µ (–°—Ç—ä–ø–∫–∞ 3).`);
            
            // –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –º–æ–¥–∞–ª–∞
            cvModal.classList.remove("modal-open"); 
            overlay.classList.remove("active");
        });
        
        // --- 4. –ò–∑—Ç–µ–≥–ª—è–Ω–µ –Ω–∞ PDF (–ø—Ä–∏ –∫–ª–∏–∫ –Ω–∞ –ö–∞—Ä—Ç–∞ 3) ---
        if (downloadCvBtn) {
            downloadCvBtn.addEventListener("click", function(e) {
                e.preventDefault();
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –∏–º–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ –¥–∞–Ω–Ω–∏ –æ—Ç –°—Ç—ä–ø–∫–∞ 2
                if (!cvData.fullName) {
                    alert("–ú–æ–ª—è, –ø—ä—Ä–≤–æ –ø–æ–ø—ä–ª–Ω–µ—Ç–µ –∏ –∑–∞–ø–∞–∑–µ—Ç–µ –¥–∞–Ω–Ω–∏—Ç–µ —Å–∏ –≤ –°—Ç—ä–ø–∫–∞ 2, –∑–∞ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞—Ç–µ CV.");
                    return;
                }

                // –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å–∫—Ä–∏—Ç —Ñ–æ—Ä–º—É–ª—è—Ä –∑–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ POST –∑–∞—è–≤–∫–∞
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = 'generate_pdf.php'; 
                form.target = '_blank'; // –û—Ç–≤–∞—Ä—è –≤ –Ω–æ–≤ —Ç–∞–±
                
                // –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∫–∞—Ç–æ —Å–∫—Ä–∏—Ç–∏ input –ø–æ–ª–µ—Ç–∞ (–≤–∫–ª—é—á–≤–∞ –∏ cvData.template)
                for (const key in cvData) {
                    if (cvData.hasOwnProperty(key) && cvData[key] !== undefined) {
                        const hiddenField = document.createElement('input');
                        hiddenField.type = 'hidden';
                        hiddenField.name = key; 
                        hiddenField.value = cvData[key];

                        form.appendChild(hiddenField);
                    }
                }

                // –ò–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ —Ñ–æ—Ä–º—É–ª—è—Ä–∞ –∏ —Å–≤–∞–ª—è–Ω–µ –Ω–∞ PDF
                document.body.appendChild(form);
                form.submit();
                document.body.removeChild(form);
            });
        }


        // --- 5. –û–±—â–∞ –ª–æ–≥–∏–∫–∞ –∑–∞ –∫–ª–∏–∫ –≤—ä—Ä—Ö—É overlay-–∞ (–∑–∞—Ç–≤–∞—Ä—è –∏ –¥–≤–∞—Ç–∞ –º–æ–¥–∞–ª–∞) ---
        document.querySelector(".overlay").addEventListener("click", function(e) {
            if (e.target.classList.contains("overlay")) {
                registrationPopup.classList.remove("active");
                cvModal.classList.remove("modal-open"); 
                overlay.classList.remove("active");
            }
        });
    </script>
    <script>
document.querySelector('a[href="#bg"]').addEventListener("click", function(e) {
    e.preventDefault();
    document.querySelector("#bg").scrollIntoView({
        behavior: "smooth"
    });
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const menuToggle = document.querySelector(".menu-toggle");
    const navLinks = document.querySelector(".nav-links");

    menuToggle.addEventListener("click", function () {
        navLinks.classList.toggle("active");
    });
});
</script>
    </body>
</html>